#! /bin/sh

# start sxhkd
pgrep sxhkd > /dev/null || sxhkd&

# start lemonbar
pkill -USR1 -x lemonbar
pkill -USR1 -x ~/.config/lemonbar/lemonbarrc
~/.config/lemonbar/lemonbarrc | lemonbar \
  -F "#373b41" -B "#fafafa" \
  -f "-misc-liberation mono-medium-r-normal--10-0-0-0-m-0-ascii-0" &

# start urxvt deamon
pgrep urxvtd > /dev/null || urxvtd -q -f -o

# disable touchpad by default
~/.bin/touchpadctl disable

# start xflux
pgrep xflux > /dev/null || xflux -l 36 -g 128&

# disable caps lock
setxkbmap -option ctrl:nocaps

bspc monitor -d 1 2 3

bspc config border_width         0
bspc config window_gap           2

bspc config split_ratio          0.52
bspc config borderless_monocle   false
bspc config gapless_monocle      false
bspc config click_to_focus       true

# prevent fullscreen
bspc subscribe node_state | while read msg mid did nid state value; do
  [ "$state $value" = "fullscreen on" ] || continue
  bspc node $nid -t tiled
done&
